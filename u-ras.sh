#! /bin/bash
apt install -y autoconf automake gcc zlib1g zlib1g-dev trousers xz-utils texinfo tcpd libwrap0-dev dbus wget make
sudo apt-get install -y libtasn1-dev trousers-dbg libgmp-dev libnl-3-200 libnl-3-dev libdbus-1-dev libncurses5-dev libncursesw5-dev libpam0g-dev libpam-dev libreadline-dev flex bison
cd && wget http://www.lysator.liu.se/~nisse/archive/nettle-2.7.tar.gz && tar xvf nettle-2.7.tar.gz && cd nettle-2.7 && ./configure --prefix=/opt/ && make && make install && cd && wget ftp://ftp.gnutls.org/gcrypt/gnutls/v3.2/gnutls-3.2.12.tar.xz && unxz gnutls-3.2.12.tar.xz && tar xvf gnutls-3.2.12.tar && cd gnutls-3.2.12 && export LD_LIBRARY_PATH=/opt/lib/:/opt/lib64/ && NETTLE_CFLAGS="-I/opt/include/" NETTLE_LIBS="-L/opt/lib64/ -lnettle" HOGWEED_CFLAGS="-I/opt/include" HOGWEED_LIBS="-L/opt/lib64/ -lhogweed" ./configure --prefix=/opt/ && make && make install && cd && wget https://src.fedoraproject.org/lookaside/pkgs/libnl3/libnl-3.2.24.tar.gz/6e0e7bad0674749d930dd9f285343d55/libnl-3.2.24.tar.gz && tar xvf libnl-3.2.24.tar.gz && cd libnl-3.2.24 && ./configure --prefix=/opt/ && make && make install && cd && wget http://pkgs.fedoraproject.org/repo/pkgs/pam_radius/pam_radius-1.3.17.tar.gz/a5d27ccbaaad9d9fb254b01a3c12bd06/pam_radius-1.3.17.tar.gz && tar -xvf pam_radius-1.3.17.tar.gz && cd pam_radius-1.3.17 && make && mkdir /lib/security && cp pam_radius_auth.so /lib/security/ && mkdir /etc/raddb/ && cp pam_radius_auth.conf /etc/raddb/server && nano /etc/raddb/server
exit 0
